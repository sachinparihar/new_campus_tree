<html>
  <head>
    
    <title>Registration</title>
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
   <link rel="stylesheet" href="cropperjs/dist/cropper.min.css">
    <link rel="stylesheet" href="styles.css">
    
    <style>

@import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');
.container::-webkit-scrollbar { 
    display: none;  /* Safari and Chrome */
}
.f-icon{
  font-size: 1.5rem;
  text-decoration: none;
}
.card {
 
  border-radius: 0.5rem;
  background-color: #fff;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  border: 1px solid transparent;
}

.content {
  padding: 1.1rem;
}

.image {
  object-fit: cover;
  width: 100%;
  height: 150px;
  background-color: black;
}

.title {
  color: #111827;
  font-size: 1.125rem;
  line-height: 1.75rem;
  font-weight: 600;
}

.desc {
  margin-top: 0.5rem;
  color: #6B7280;
  font-size: 0.875rem;
  line-height: 1.25rem;
}

.action {
  display: inline-flex;
  margin-top: 1rem;
  color: #ffffff;
  font-size: 0.875rem;
  line-height: 1.25rem;
  font-weight: 500;
  align-items: center;
  gap: 0.25rem;
  background-color: #2563EB;
  padding: 4px 8px;
  border-radius: 4px;
}

.action span {
  transition: .3s ease;
}

.action:hover span {
  transform: translateX(4px);
}

      .nav-link{
        color: white;
        font-size: 1rem;
      }
      .active{
        
        color: rgb(225, 207, 11);
      }

      .card-box {
padding: 2px;
border-radius: 1rem;
margin-bottom: 3px;
background-color: #fff;
border: 0.5rem solid black;
}

.social-links li a {
border-radius: 50%;
color: rgba(121, 121, 121, .8);
display: inline-block;
height: 20px;
line-height: 5px;
border: 2px solid rgba(121, 121, 121, .5);
text-align: center;
width: 20px
}

.social-links li a:hover {
color: #797979;
border: 2px solid #797979
}
.thumb-lg {
height: 50px;
width: 50px;
}
.img-thumbnail {
padding:2px;
background-color: #fff;
border: 1px solid #dee2e6;
border-radius: .25rem;
max-width: 100%;
height: auto;
}
.text-pink {
color: #ff679b!important;
}

.text-muted {
color: #98a6ad!important;
}

.content h4 {
line-height: 10px;
font-size: 12px;
}


.chellenges-profile-container{
overflow: auto;
white-space: nowrap;
width: 100%;
padding: 1rem;

}
.chellenges-profile-container::-webkit-scrollbar {
  display: none;
}


.pbox{
  display: inline-block;
  width: 15rem;
  height: 15rem;
  margin: 0.5rem;
}



.pimgdiv{
  border-radius: 50%;
  -webkit-border-radius: 50%;
  -moz-border-radius: 50%;
  -ms-border-radius: 50%;
  -o-border-radius: 50%;
  width: 3rem;
  height:3rem;
 margin-bottom: 1rem;
}
.pimg{
  border-radius: 50%;
  width: 3rem;
  height: 3rem;
}
.creategroup,.groupname{
  margin-left: 93%;
}

      
    </style>
  </head>
<body >
<!-- NOTE: Navbar -->

<div id="heading">
<nav style="font-family: serif;" class="navbar navbar-expand-lg navbar-dark">
    <div class="container-fluid">
      
      <a class="navbar-brand" style="font-family: fantasy; font-weight: 300; font-size: 1.5rem;" href="#campus-tree">Campus Tree </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav-toggle" aria-controls="nav-toggle" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon ticon"></span>
      </button>
      <div class="collapse navbar-collapse" id="nav-toggle">
        <div class="navbar-nav">
          <a class="nav-link "  href="#">Home</a>
          <a class="nav-link active"aria-current="page" href="#"> Profile</a>
          <a class="nav-link" href="#">Hack</a>
          <a class="nav-link" href="#">Friends</a>
          <a class="nav-link" href="#">Community</a>
        </div>
      </div>
     
    </div>
  </nav>
 

<div class="row profile-row">
  <div class="col-md-8 col-cover">
    <div class="cover">

     
     


      <img id="cover-img"src="<%=cover_image%>"  alt="">
      

      <button type="button" class="btn cover-edit-btn " data-bs-toggle="modal" data-bs-target="#staticBackdrop" style="
     height: 16%;">
        <i class="fa-solid fa-pen-to-square  cover-edit-icon"></i>
      </button>
    </div>
    <div class=" row profile-row-under">
      <div class="col-sm-6 pic-name-col">

        
        

        <img class="profile-img"src="<%=profile_image%>" alt="" style="height: 150px;">

       

        <button style="margin-right: -3rem;
        margin-top: -2.5rem;  " type="button" class="btn cover-edit-btn " data-bs-toggle="modal" data-bs-target="#staticBackdrop">
          <i class="fa-solid fa-pen-to-square  profile-edit-icon"></i>
        </button>
        <div class="name" style=" font-size: 1.2rem;
      
    font-size: 1.2rem;
    font-weight: 800;
    font-family: serif;
    min-width: 16.9rem;
    text-align: center;
    margin-left: -3.8rem;">
          <%= fullname  %>
        </div>
      </div>
    <div class="col-sm-6 college-field-col">
        <div class="field container">
         <%=userid%>
        </div>
        <div class="college container">
          <%=college%>
        </div>
      <div class="skills-div">

        <% for(var i=0; i<interest.length; i++) {%>
          

          <div class="skill">
            <%= interest[i] %>
          </div>
       <% } %>
<!--         
        <div class="skill">
          HTML
        </div>
        <div class="skill">
          CSS3
        </div>
        <div class="skill">
          JS
        </div>
        <div class="skill">
          Bootstrap
        </div>
        <div class="skill">
          DOM
        </div>
        <div class="skill">
          Node.js
        </div> -->
      </div>
    </div>
    <div style="background-color: black" class="about-div">
      <h4 style="
     
          font-size: 0.8rem;
          font-weight: 600;
          color: white;
      " class="about-heading">About</h4>
    <div><%= about%></div> 
    </div>
    </div>
  </div>





  <!-- Chellenges Baar at the Right side of Profile section      1 -->
  <div style="padding: 5px;/* text-align: center; */" class="col-md-4 chellenges-col container scrol">

    <div class="card" style="
   border-radius: 0.5rem;
   border: 3px solid darkgrey;
   padding: 5p;
   margin: 5px;
">
   <div class="image" style="
    border-top-left-radius: 0.3rem;
    border-top-right-radius: 0.3rem;
    border-radius: 0.4;
"></div>
    <div class="content">
      <a href="#" style="
    text-decoration: none;
">
        <span class="title" style="
    font-size: 1.6rem;
    font-weight: 1000;
    font-family: serif;
">
          DSA Booster
        </span>
      </a>
  
      <p class="desc" style="
    font-size: 1.2rem;
    color: black;
    font-weight: 500;
    font-family: system-ui;
">
    Start with this community to boost your DSA journey 
      </p>
  
      <a href="#" class="action">
        Join Now
        <span aria-hidden="true">
          →
        </span>
      </a>
    </div>
  </div>
  <div class="card" style="
  border-radius: 0.5rem;
  border: 3px solid darkgrey;
  padding: 5p;
  margin: 5px;
">
  <div class="image" style="
   border-top-left-radius: 0.3rem;
   border-top-right-radius: 0.3rem;
   border-radius: 0.4;
"></div>
   <div class="content">
     <a href="#" style="
   text-decoration: none;
">
       <span class="title" style="
   font-size: 1.6rem;
   font-weight: 1000;
   font-family: serif;
">
         DSA Booster
       </span>
     </a>
 
     <p class="desc" style="
   font-size: 1.2rem;
   color: black;
   font-weight: 500;
   font-family: system-ui;
">
   Start with this community to boost your DSA journey 
     </p>
 
     <a href="#" class="action">
       Join Now
       <span aria-hidden="true">
         →
       </span>
     </a>
   </div>
 </div> <div class="card" style="
 border-radius: 0.5rem;
 border: 3px solid darkgrey;
 padding: 5p;
 margin: 5px;
">
 <div class="image" style="
  border-top-left-radius: 0.3rem;
  border-top-right-radius: 0.3rem;
  border-radius: 0.4;
"></div>
  <div class="content">
    <a href="#" style="
  text-decoration: none;
">
      <span class="title" style="
  font-size: 1.6rem;
  font-weight: 1000;
  font-family: serif;
">
        DSA Booster
      </span>
    </a>

    <p class="desc" style="
  font-size: 1.2rem;
  color: black;
  font-weight: 500;
  font-family: system-ui;
">
  Start with this community to boost your DSA journey 
    </p>

    <a href="#" class="action">
      Join Now
      <span aria-hidden="true">
        →
      </span>
    </a>
  </div>
</div> <div class="card" style="
border-radius: 0.5rem;
border: 3px solid darkgrey;
padding: 5p;
margin: 5px;
">
<div class="image" style="
 border-top-left-radius: 0.3rem;
 border-top-right-radius: 0.3rem;
 border-radius: 0.4;
"></div>
 <div class="content">
   <a href="#" style="
 text-decoration: none;
">
     <span class="title" style="
 font-size: 1.6rem;
 font-weight: 1000;
 font-family: serif;
">
       DSA Booster
     </span>
   </a>

   <p class="desc" style="
 font-size: 1.2rem;
 color: black;
 font-weight: 500;
 font-family: system-ui;
">
 Start with this community to boost your DSA journey 
   </p>

   <a href="#" class="action">
     Join Now
     <span aria-hidden="true">
       →
     </span>
   </a>
 </div>
</div>

   
<!-- Chellenges Baar at the Right side of Profile section      2-->
 
<!-- Chellenges Baar at the Right side of Profile section      2-->
 




 
<!-- End of all 3 Chellenges baar chellenge will be fetched from DB -->
</div>

<!-- End of Profile  -->





<!-- Start of challenges Profile Recomendations -->
<div class="content" style="width: 95%">
  <div id="profiless" class="container chellenges-profile-container" style="margin-left: 3%">
    <!--Profiles-->


    <% for(var i=0; i<interest.length; i++) {%>
    

              <% } %>


    <!---
          <div style="display:inline-block; ">
              <div style="width: 15rem;" style="width: 15rem;" class="text-center card-box">
                  <div  class="member-card pt-2 pb-2">
                      <div class="thumb-lg member-thumb mx-auto"><img src="https://bootdey.com/img/Content/avatar/avatar2.png" class="rounded-circle img-thumbnail" alt="profile-image"></div>
                      <div class="">
                          <h4>Rahul</h4>
                          <p class="text-muted">@Webdeveloper</p>
                      </div>
                      <ul class="social-links list-inline">
                          <li class="list-inline-item"><a title="" data-placement="top" data-toggle="tooltip" class="tooltips" href="" data-original-title="Facebook"><i class="fa fa-facebook"></i></a></li>
                          <li class="list-inline-item"><a title="" data-placement="top" data-toggle="tooltip" class="tooltips" href="" data-original-title="Twitter"><i class="fa fa-twitter"></i></a></li>
                          <li class="list-inline-item"><a title="" data-placement="top" data-toggle="tooltip" class="tooltips" href="" data-original-title="Skype"><i class="fa fa-skype"></i></a></li>
                      </ul>
                      <button type="button" class="btn btn-primary mt-3 btn-rounded waves-effect w-md waves-light">Message Now</button>
                      <div class="mt-4">
                          <div class="row">
                              <div class="col-4">
                                  <div class="mt-3">
                                      <h4>Followers</h4>
                                      <p  class="mb-0 text-muted">500</p>
                                  </div>
                              </div>
                              <div class="col-4">
                                  <div class="mt-3">
                                      <h4>Followings</h4>
                                      <p class="mb-0 text-muted">60</p>
                                  </div>
                              </div>
                              <div class="col-4">
                                  <div class="mt-3">
                                      <h4>CP</h4>
                                      <p class="mb-0 text-muted">23</p>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
          <!-- end col 
          <div style="display:inline-block">
            <div style="width: 15rem;" class="text-center card-box">
                <div class="member-card pt-2 pb-2">
                    <div class="thumb-lg member-thumb mx-auto"><img src="https://bootdey.com/img/Content/avatar/avatar2.png" class="rounded-circle img-thumbnail" alt="profile-image"></div>
                    <div class="">
                        <h4>Rahul</h4>
                        <p class="text-muted">@Webdeveloper</p>
                    </div>
                    <ul class="social-links list-inline">
                        <li class="list-inline-item"><a title="" data-placement="top" data-toggle="tooltip" class="tooltips" href="" data-original-title="Facebook"><i class="fa fa-facebook"></i></a></li>
                        <li class="list-inline-item"><a title="" data-placement="top" data-toggle="tooltip" class="tooltips" href="" data-original-title="Twitter"><i class="fa fa-twitter"></i></a></li>
                        <li class="list-inline-item"><a title="" data-placement="top" data-toggle="tooltip" class="tooltips" href="" data-original-title="Skype"><i class="fa fa-skype"></i></a></li>
                    </ul>
                    <button type="button" class="btn btn-primary mt-3 btn-rounded waves-effect w-md waves-light">Message Now</button>
                    <div class="mt-4">
                        <div class="row">
                            <div class="col-4">
                                <div class="mt-3">
                                    <h4>Followers</h4>
                                    <p  class="mb-0 text-muted">500</p>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="mt-3">
                                    <h4>Followings</h4>
                                    <p class="mb-0 text-muted">60</p>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="mt-3">
                                    <h4>CP</h4>
                                    <p class="mb-0 text-muted">23</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>-->
          <!-- end col -->
          
      <!-- col end here -->
      <!-- <div style="display:inline-block">
        <div style="width: 15rem;" class="text-center card-box">
            <div class="member-card pt-2 pb-2">
                <div class="thumb-lg member-thumb mx-auto"><img src="https://bootdey.com/img/Content/avatar/avatar2.png" class="rounded-circle img-thumbnail" alt="profile-image"></div>
                <div class="">
                    <h4>Rahul</h4>
                    <p class="text-muted">@Webdeveloper</p>
                </div>
                <ul class="social-links list-inline">
                    <li class="list-inline-item"><a title="" data-placement="top" data-toggle="tooltip" class="tooltips" href="" data-original-title="Facebook"><i class="fa fa-facebook"></i></a></li>
                    <li class="list-inline-item"><a title="" data-placement="top" data-toggle="tooltip" class="tooltips" href="" data-original-title="Twitter"><i class="fa fa-twitter"></i></a></li>
                    <li class="list-inline-item"><a title="" data-placement="top" data-toggle="tooltip" class="tooltips" href="" data-original-title="Skype"><i class="fa fa-skype"></i></a></li>
                </ul>
                <button type="button" class="btn btn-primary mt-3 btn-rounded waves-effect w-md waves-light">Message Now</button>
                <div class="mt-4">
                    <div class="row">
                        <div class="col-4">
                            <div class="mt-3">
                                <h4>Followers</h4>
                                <p  class="mb-0 text-muted">500</p>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="mt-3">
                                <h4>Followings</h4>
                                <p class="mb-0 text-muted">60</p>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="mt-3">
                                <h4>CP</h4>
                                <p class="mb-0 text-muted">23</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> -->
        <!-- end col -->
        
    </div>

 
  <!-- container -->
</div>

</div>




<!-- Button trigger modal -->


<!-- Modal -->
<div class="modal fade modal2" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Modal title</h5>
        <button type="button" class="btn-close cross" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body dialog-body">
        <input type="file" name="" id="cover-file" accept="image/png,image/jpeg,image/jpg">
        <input type="file" name="" id="profile-file"  accept="image/png image/jpeg image/jpg">
        <div class="box-2">
          <div class="result"></div>
          </div>
        
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary close-name" data-bs-dismiss="modal" style="display: none;">Close</button>
        <button type="button" class="btn btn-primary done" data-bs-dismiss="modal">Done</button>
        <button type="button" class="btn btn-primary profile-done" data-bs-dismiss="modal">Profile-Done</button>


      </div>
    </div>
  </div>
</div>


<!-- Remove the container if you want to extend the Footer to full width. -->
<div class=" my-5">
  <!-- Footer -->
  <footer class="text-center text-white" style="background-color: #3f51b5;background-color: black;/* color: red; */">
    <!-- Grid container -->
    <div class="container" style="
">
      <!-- Section: Links -->
      <section class="mt-5" style="
    /* color: red; */
">
        <!-- Grid row-->
        <div class="footer-features row text-center d-flex justify-content-center pt-5" style="
    font-family: initial;
">
          <!-- Grid column -->
          <div class="  col-md-2" style="/* font-family: serif; */">
            <h6 class="text-uppercase font-weight-bold" style="
    color: red;
    font-family: inherit;
">
              <a href="#!" class="text-white" style="
    color: red;
">Hackthon</a>
            </h6>
          </div>
          <!-- Grid column -->

          <!-- Grid column -->
          <div class="col-md-2" style="
    display: inline-block;
    /* width: 12rem; */
">
            <h6 class="text-uppercase font-weight-bold">
              <a href="#!" class="text-white">Comminity</a>
            </h6>
          </div>
          <!-- Grid column -->

          <!-- Grid column -->
          <div class="col-md-2">
            <h6 class="text-uppercase font-weight-bold">
              <a href="#!" class="text-white">Chellenges</a>
            </h6>
          </div>
          <!-- Grid column -->

          <!-- Grid column -->
          <div class="col-md-2">
            <h6 class="text-uppercase font-weight-bold">
              <a href="#!" class="text-white">Events</a>
            </h6>
          </div>
          <!-- Grid column -->

          <!-- Grid column -->
          
          <!-- Grid column -->
        </div>
        <!-- Grid row-->
      </section>
      <!-- Section: Links -->

      <hr class="my-5">

      <!-- Section: Social -->
      <section class="text-center mb-5" style="
    font-size: 2rem;
">
        <a href="" class=" f-icon text-white me-4" style="
    font-size: 1.5rem;
">
          <i class="fab fa-facebook-f" aria-hidden="true"></i>
        </a>
        <a href="" class=" f-icon text-white me-4" style="
    font-size: 1.5rem;
">
          <i class="fab fa-twitter" aria-hidden="true"></i>
        </a>
        <a href="" class=" f-icon text-white me-4" style="
    /* font-size: 1rem; */
">
          <i class="fab fa-google" aria-hidden="true"></i>
        </a>
        <a href="" class="f-icon text-white me-4">
          <i class="fab fa-instagram" aria-hidden="true"></i>
        </a>
        <a href="" class="f-icon text-white me-4">
          <i class="fab fa-linkedin" aria-hidden="true"></i>
        </a>
        <a href="" class=" f-icon text-white me-4">
          <i class="fab fa-github" aria-hidden="true"></i>
        </a>
      </section>
      <!-- Section: Social -->
    </div>
    <!-- Grid container -->

    <!-- Copyright -->
    <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);font-size: 13px;">
      © 2023 Copyright:
<a class=" copyright text-white" href="https://mdbootstrap.com/" style="
    font-family: inherit;
    font-weight: 100;
">Campustree.com</a>
    </div>
    <!-- Copyright -->
  </footer>
  <!-- Footer -->
</div>
</div>
<!-- End of .container -->








<!--Story section-->




<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://kit.fontawesome.com/1b26aa43df.js" crossorigin="anonymous"></script>
<script src="cropperjs/dist/cropper.min.js"></script>

  </body>
  

  <script >
   const coverImage=document.getElementById("cover-img");
    const coverFile=document.getElementById("cover-file");
    const profileFile=document.getElementById("profile-file");
    const done=document.getElementsByClassName("done")[0];
    const cropingImage=document.getElementById("croping-image");
    const result=document.getElementsByClassName("result")[0];
    const profileImage=document.getElementsByClassName("profile-img")[0];
    const coverIcon=document.getElementsByClassName("cover-edit-icon")[0];
    const profileIcon=document.getElementsByClassName("profile-edit-icon")[0];
    //button
    const profileDone=document.getElementsByClassName("profile-done")[0];
    const cross=document.getElementsByClassName("cross")[0];
    const close=document.getElementsByClassName("close-name")[0];
    cropper="";
   
    coverIcon.addEventListener('click',function(){
   done.style.display="none"
     profileDone.style.display="none";
     coverFile.style.display="block";
   coverFile.style.textAlign="center";
    
   
    });
   
   profileIcon.addEventListener('click',function(){
   profileDone.style.display="none";
   done.style.display="none";
   profileFile.style.display="block";
   profileFile.style.textAlign="center";
   
   
   });
   
   
   
   coverFile.addEventListener('change',function(){
     result.style.display="block";
   done.style.display="block"
   });
   profileFile.addEventListener('change',function(){
     result.style.display="block";
     profileDone.style.display="block";
   
   });
   
   
   cross.addEventListener('click',function(){
   done.style.display="none";
   profileDone.style.display="none";
   result.style.display="none";
   coverFile.style.display="none";
   profileFile.style.display="none";
   });
   done.addEventListener('click',function(){
    done.style.display="none";
     profileDone.style.display="none";
     result.style.display="none";
     coverFile.style.display="none";
     profileFile.style.display="none";
     });
     profileDone.addEventListener('click',function(){
       done.style.display="none";
   profileDone.style.display="none";
   result.style.display="none";
   coverFile.style.display="none";
   profileFile.style.display="none";


   
       });
   
   
   
   
   coverFile.addEventListener("change", (e) => {
       if (e.target.files.length) {
      
         // start file reader
         const reader = new FileReader();
         reader.onload = (e) => {
           if (e.target.result) {
             // create new image
             let img = document.createElement("img");
             img.id = "croping-image";
             img.src = e.target.result;
             // clean result before
             console.log(e.target.result);
             result.innerHTML = "";
             // append new image
             result.appendChild(img);
             // init cropper
            cropper = new Cropper(img,{
               dragMode: 'move',
       aspectRatio: 10,
       autoCropArea: 1,
       restore: false,
       guides: false,
       center: false,
       highlight: false,
       cropBoxMovable: true,
       cropBoxResizable: false,
       toggleDragModeOnDblclick: true,
       movable:false,
       zoomOnTouch:false,
            });
      
           }
         };
         reader.readAsDataURL(e.target.files[0]);
       }
     });
     done.addEventListener("click", async(e) => {
       e.preventDefault();
       
       // get result to data uri
       let imgSrc = cropper
         .getCroppedCanvas()
         .toDataURL();
         
         console.log(imgSrc);
         if(imgSrc){
        let data={
          client_url:imgSrc
         }
         console.log(data);
        
           
         const request=await fetch("http://localhost:1000/upload_cover",{
          method:"POST",
          headers:{
            "Content-Type":"application/json",
          },
          body:JSON.stringify({client_url:imgSrc})
         }).then((Response)=>{
          
           return Response.json();
         }).then((data)=>{
          coverImage.src= imgSrc;
           console.log(data);
           alert("Background image Update :)");
          
         })
         
         

        }

         //console.log(data.imgSrc);
        
       
   });
   
    profileFile.addEventListener("change", (e) => {
      if (e.target.files.length) {
       
        // start file reader
        const reader = new FileReader();
        reader.onload = (e) => {
          if (e.target.result) {
            // create new image
            let img = document.createElement("img");
            img.id = "croping-image";
            img.src = e.target.result;
            // clean result before
            console.log(e.target.result);
            result.innerHTML = "";
            // append new image
            result.appendChild(img);
            // init cropper
           cropper = new Cropper(img,{
              dragMode: 'move',
      aspectRatio: 1,
      autoCropArea: 1,
      restore: false,
      guides: false,
      center: false,
      highlight: false,
      cropBoxMovable: true,
      cropBoxResizable: false,
      toggleDragModeOnDblclick: true,
      movable:false,
      zoomOnTouch:false,
           });
     
          }
        };
        reader.readAsDataURL(e.target.files[0]);
      }
    });
    profileDone.addEventListener("click", async(e) => {
      e.preventDefault();
      // get result to data uri
      let imgSrc = cropper
        .getCroppedCanvas()
        .toDataURL();
       
        let data={
          url_data:imgSrc
         }

         //animation
         if(imgSrc){
         let x=3;
         const animation=()=>{
           if(x==8){
             x=3;
           }
          profileImage.style.border = `${x}px solid pink`;
          x++;
         }
         const animation_interval=setInterval(animation,1000);
         const request=await fetch("http://localhost:3000/upload_profile",{
          method:"POST",
          headers:{
            "Content-Type":"application/json",
          },
          body:JSON.stringify({url_data:imgSrc})
         })
         

         .then((res)=>{
           return res.json();
         }).then((data)=>{
           alert("Profile photo Updated :)");
          profileImage.src= imgSrc;
          clearInterval(animation_interval);
          profileImage.style.border="1px transparent";
           console.log(data);
         })
        
        }
    });
    
    
 const fun1=()=>{
console.log("hello");
 }

 window.onload = async()=>{
    // your code here
console.log("okay");
    const response = await fetch("http://localhost:3000/other_profile", {
      method: 'POST', // *GET, POST, PUT, DELETE, etc.
       headers: {
        'Content-Type': 'application/json'

       },

        // body data type must match "Content-Type" header
    }).then((Response)=>{
      return Response.json();
    }).then((data)=>{
      console.log(data);

let profiless=document.getElementById("profiless");


data.forEach((data,n)=>{


  let pbox=document.createElement("div");
  pbox.setAttribute("class","pbox");
  profiless.appendChild(pbox);
  user_id=data.user_id.toString();
console.log(data.user_id.toString());
pbox.innerHTML+=`
   
      <div class="text-center card-box">
        <div class="number-card pt-2 pb-2">
          <div class="thumb-lg number-thumb mx-auto pimgdiv">
            <img class="pimg" src=${data.profile_image}></div><div>
              <h4 id="fname"> ${data.fullname}</h4>
              <h4 id="fcollege">@${data.user_id}</h4>
              <p id="field">${data.college}</p></div>
              <button class="btn btn-primary"  onclick="seeProfile('${user_id}')" >view profile</button><p><span></span></p>
              <p>score:0</p><p></p></div></div>`;
              
              
            });
    
          
          })
    
};


const seeProfile=((userId)=>{
//post requests


console.log(userId);
 window.location.href= "/user/"+userId;
  
});

    </script>


</html> 